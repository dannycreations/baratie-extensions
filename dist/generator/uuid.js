!function(){"use strict";const e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function n(n){return"string"==typeof n&&e.test(n)}function t(e){if(!n(e))throw TypeError("Invalid UUID");let t;return Uint8Array.of((t=parseInt(e.slice(0,8),16))>>>24,t>>>16&255,t>>>8&255,255&t,(t=parseInt(e.slice(9,13),16))>>>8,255&t,(t=parseInt(e.slice(14,18),16))>>>8,255&t,(t=parseInt(e.slice(19,23),16))>>>8,255&t,(t=parseInt(e.slice(24,36),16))/1099511627776&255,t/4294967296&255,t>>>24&255,t>>>16&255,t>>>8&255,255&t)}const r=[];for(let L=0;L<256;++L)r.push((L+256).toString(16).slice(1));function o(e,n=0){return(r[e[n+0]]+r[e[n+1]]+r[e[n+2]]+r[e[n+3]]+"-"+r[e[n+4]]+r[e[n+5]]+"-"+r[e[n+6]]+r[e[n+7]]+"-"+r[e[n+8]]+r[e[n+9]]+"-"+r[e[n+10]]+r[e[n+11]]+r[e[n+12]]+r[e[n+13]]+r[e[n+14]]+r[e[n+15]]).toLowerCase()}let s;const a=new Uint8Array(16);function c(){if(!s){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");s=crypto.getRandomValues.bind(crypto)}return s(a)}const i={};function f(e,n,t){let r;const s=e?._v6??!1;if(e){const n=Object.keys(e);1===n.length&&"_v6"===n[0]&&(e=void 0)}if(e)r=l(e.random??e.rng?.()??c(),e.msecs,e.nsecs,e.clockseq,e.node,n,t);else{const e=Date.now(),o=c();!function(e,n,t){e.msecs??=-1/0,e.nsecs??=0,n===e.msecs?(e.nsecs++,e.nsecs>=1e4&&(e.node=void 0,e.nsecs=0)):n>e.msecs?e.nsecs=0:n<e.msecs&&(e.node=void 0);e.node||(e.node=t.slice(10,16),e.node[0]|=1,e.clockseq=16383&(t[8]<<8|t[9]));e.msecs=n}(i,e,o),r=l(o,i.msecs,i.nsecs,s?void 0:i.clockseq,s?void 0:i.node,n,t)}return n??o(r)}function l(e,n,t,r,o,s,a=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(s){if(a<0||a+16>s.length)throw new RangeError(`UUID byte range ${a}:${a+15} is out of buffer bounds`)}else s=new Uint8Array(16),a=0;n??=Date.now(),t??=0,r??=16383&(e[8]<<8|e[9]),o??=e.slice(10,16);const c=(1e4*(268435455&(n+=122192928e5))+t)%4294967296;s[a++]=c>>>24&255,s[a++]=c>>>16&255,s[a++]=c>>>8&255,s[a++]=255&c;const i=n/4294967296*1e4&268435455;s[a++]=i>>>8&255,s[a++]=255&i,s[a++]=i>>>24&15|16,s[a++]=i>>>16&255,s[a++]=r>>>8|128,s[a++]=255&r;for(let f=0;f<6;++f)s[a++]=o[f];return s}function u(e){const n=function(e){return Uint8Array.of((15&e[6])<<4|e[7]>>4&15,(15&e[7])<<4|(240&e[4])>>4,(15&e[4])<<4|(240&e[5])>>4,(15&e[5])<<4|(240&e[0])>>4,(15&e[0])<<4|(240&e[1])>>4,(15&e[1])<<4|(240&e[2])>>4,96|15&e[2],e[3],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}("string"==typeof e?t(e):e);return"string"==typeof e?o(n):n}function d(e){return function(e){const n=new Uint8Array(4*e.length);for(let t=0;t<4*e.length;t++)n[t]=e[t>>2]>>>t%4*8&255;return n}(function(e,n){const t=new Uint32Array(v(n)).fill(0);t.set(e),t[n>>5]|=128<<n%32,t[t.length-1]=n,e=t;let r=1732584193,o=-271733879,s=-1732584194,a=271733878;for(let c=0;c<e.length;c+=16){const n=r,t=o,i=s,f=a;r=U(r,o,s,a,e[c],7,-680876936),a=U(a,r,o,s,e[c+1],12,-389564586),s=U(s,a,r,o,e[c+2],17,606105819),o=U(o,s,a,r,e[c+3],22,-1044525330),r=U(r,o,s,a,e[c+4],7,-176418897),a=U(a,r,o,s,e[c+5],12,1200080426),s=U(s,a,r,o,e[c+6],17,-1473231341),o=U(o,s,a,r,e[c+7],22,-45705983),r=U(r,o,s,a,e[c+8],7,1770035416),a=U(a,r,o,s,e[c+9],12,-1958414417),s=U(s,a,r,o,e[c+10],17,-42063),o=U(o,s,a,r,e[c+11],22,-1990404162),r=U(r,o,s,a,e[c+12],7,1804603682),a=U(a,r,o,s,e[c+13],12,-40341101),s=U(s,a,r,o,e[c+14],17,-1502002290),o=U(o,s,a,r,e[c+15],22,1236535329),r=m(r,o,s,a,e[c+1],5,-165796510),a=m(a,r,o,s,e[c+6],9,-1069501632),s=m(s,a,r,o,e[c+11],14,643717713),o=m(o,s,a,r,e[c],20,-373897302),r=m(r,o,s,a,e[c+5],5,-701558691),a=m(a,r,o,s,e[c+10],9,38016083),s=m(s,a,r,o,e[c+15],14,-660478335),o=m(o,s,a,r,e[c+4],20,-405537848),r=m(r,o,s,a,e[c+9],5,568446438),a=m(a,r,o,s,e[c+14],9,-1019803690),s=m(s,a,r,o,e[c+3],14,-187363961),o=m(o,s,a,r,e[c+8],20,1163531501),r=m(r,o,s,a,e[c+13],5,-1444681467),a=m(a,r,o,s,e[c+2],9,-51403784),s=m(s,a,r,o,e[c+7],14,1735328473),o=m(o,s,a,r,e[c+12],20,-1926607734),r=h(r,o,s,a,e[c+5],4,-378558),a=h(a,r,o,s,e[c+8],11,-2022574463),s=h(s,a,r,o,e[c+11],16,1839030562),o=h(o,s,a,r,e[c+14],23,-35309556),r=h(r,o,s,a,e[c+1],4,-1530992060),a=h(a,r,o,s,e[c+4],11,1272893353),s=h(s,a,r,o,e[c+7],16,-155497632),o=h(o,s,a,r,e[c+10],23,-1094730640),r=h(r,o,s,a,e[c+13],4,681279174),a=h(a,r,o,s,e[c],11,-358537222),s=h(s,a,r,o,e[c+3],16,-722521979),o=h(o,s,a,r,e[c+6],23,76029189),r=h(r,o,s,a,e[c+9],4,-640364487),a=h(a,r,o,s,e[c+12],11,-421815835),s=h(s,a,r,o,e[c+15],16,530742520),o=h(o,s,a,r,e[c+2],23,-995338651),r=y(r,o,s,a,e[c],6,-198630844),a=y(a,r,o,s,e[c+7],10,1126891415),s=y(s,a,r,o,e[c+14],15,-1416354905),o=y(o,s,a,r,e[c+5],21,-57434055),r=y(r,o,s,a,e[c+12],6,1700485571),a=y(a,r,o,s,e[c+3],10,-1894986606),s=y(s,a,r,o,e[c+10],15,-1051523),o=y(o,s,a,r,e[c+1],21,-2054922799),r=y(r,o,s,a,e[c+8],6,1873313359),a=y(a,r,o,s,e[c+15],10,-30611744),s=y(s,a,r,o,e[c+6],15,-1560198380),o=y(o,s,a,r,e[c+13],21,1309151649),r=y(r,o,s,a,e[c+4],6,-145523070),a=y(a,r,o,s,e[c+11],10,-1120210379),s=y(s,a,r,o,e[c+2],15,718787259),o=y(o,s,a,r,e[c+9],21,-343485551),r=g(r,n),o=g(o,t),s=g(s,i),a=g(a,f)}return Uint32Array.of(r,o,s,a)}(function(e){if(0===e.length)return new Uint32Array;const n=new Uint32Array(v(8*e.length)).fill(0);for(let t=0;t<e.length;t++)n[t>>2]|=(255&e[t])<<t%4*8;return n}(e),8*e.length))}function v(e){return 14+(e+64>>>9<<4)+1}function g(e,n){const t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}function p(e,n,t,r,o,s){return g((a=g(g(n,e),g(r,s)))<<(c=o)|a>>>32-c,t);var a,c}function U(e,n,t,r,o,s,a){return p(n&t|~n&r,e,n,o,s,a)}function m(e,n,t,r,o,s,a){return p(n&r|t&~r,e,n,o,s,a)}function h(e,n,t,r,o,s,a){return p(n^t^r,e,n,o,s,a)}function y(e,n,t,r,o,s,a){return p(t^(n|~r),e,n,o,s,a)}const b="6ba7b810-9dad-11d1-80b4-00c04fd430c8",w="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function I(e,n,r,s,a,c){const i="string"==typeof r?function(e){e=unescape(encodeURIComponent(e));const n=new Uint8Array(e.length);for(let t=0;t<e.length;++t)n[t]=e.charCodeAt(t);return n}(r):r,f="string"==typeof s?t(s):s;if("string"==typeof s&&(s=t(s)),16!==s?.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+i.length);if(l.set(f),l.set(i,f.length),l=n(l),l[6]=15&l[6]|e,l[8]=63&l[8]|128,a){c=c||0;for(let e=0;e<16;++e)a[c+e]=l[e];return a}return o(l)}function D(e,n,t,r){return I(48,d,e,n,t,r)}D.DNS=b,D.URL=w;const A={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function R(e,n,t){return A.randomUUID&&!e?A.randomUUID():function(e){const n=(e=e||{}).random??e.rng?.()??c();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=15&n[6]|64,n[8]=63&n[8]|128,o(n)}(e)}function q(e,n,t,r){switch(e){case 0:return n&t^~n&r;case 1:case 3:return n^t^r;case 2:return n&t^n&r^t&r}}function E(e,n){return e<<n|e>>>32-n}function k(e){const n=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520],r=new Uint8Array(e.length+1);r.set(e),r[e.length]=128;const o=(e=r).length/4+2,s=Math.ceil(o/16),a=new Array(s);for(let c=0;c<s;++c){const n=new Uint32Array(16);for(let t=0;t<16;++t)n[t]=e[64*c+4*t]<<24|e[64*c+4*t+1]<<16|e[64*c+4*t+2]<<8|e[64*c+4*t+3];a[c]=n}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(let c=0;c<s;++c){const e=new Uint32Array(80);for(let n=0;n<16;++n)e[n]=a[c][n];for(let n=16;n<80;++n)e[n]=E(e[n-3]^e[n-8]^e[n-14]^e[n-16],1);let r=t[0],o=t[1],s=t[2],i=t[3],f=t[4];for(let t=0;t<80;++t){const a=Math.floor(t/20),c=E(r,5)+q(a,o,s,i)+f+n[a]+e[t]>>>0;f=i,i=s,s=E(o,30)>>>0,o=r,r=c}t[0]=t[0]+r>>>0,t[1]=t[1]+o>>>0,t[2]=t[2]+s>>>0,t[3]=t[3]+i>>>0,t[4]=t[4]+f>>>0}return Uint8Array.of(t[0]>>24,t[0]>>16,t[0]>>8,t[0],t[1]>>24,t[1]>>16,t[1]>>8,t[1],t[2]>>24,t[2]>>16,t[2]>>8,t[2],t[3]>>24,t[3]>>16,t[3]>>8,t[3],t[4]>>24,t[4]>>16,t[4]>>8,t[4])}function N(e,n,t,r){return I(80,k,e,n,t,r)}N.DNS=b,N.URL=w;const T={};function $(e,n,t){let r;{const e=Date.now(),o=c();!function(e,n,t){e.msecs??=-1/0,e.seq??=0,n>e.msecs?(e.seq=t[6]<<23|t[7]<<16|t[8]<<8|t[9],e.msecs=n):(e.seq=e.seq+1|0,0===e.seq&&e.msecs++)}(T,e,o),r=function(e,n,t,r,o=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(r){if(o<0||o+16>r.length)throw new RangeError(`UUID byte range ${o}:${o+15} is out of buffer bounds`)}else r=new Uint8Array(16),o=0;return n??=Date.now(),t??=127*e[6]<<24|e[7]<<16|e[8]<<8|e[9],r[o++]=n/1099511627776&255,r[o++]=n/4294967296&255,r[o++]=n/16777216&255,r[o++]=n/65536&255,r[o++]=n/256&255,r[o++]=255&n,r[o++]=112|t>>>28&15,r[o++]=t>>>20&255,r[o++]=128|t>>>14&63,r[o++]=t>>>6&255,r[o++]=t<<2&255|3&e[10],r[o++]=e[11],r[o++]=e[12],r[o++]=e[13],r[o++]=e[14],r[o++]=e[15],r}(o,T.msecs,T.seq,n,t)}return n??o(r)}const C={name:"UUID",category:"Generator",description:"Generates Universally Unique Identifiers (UUIDs).",spices:[{id:"version",label:"Version",type:"select",value:"v4",options:[{label:"v1 (Time-based)",value:"v1"},{label:"v3 (Name-based)",value:"v3"},{label:"v4 (Random)",value:"v4"},{label:"v5 (Name-based)",value:"v5"},{label:"v6 (Time-based)",value:"v6"},{label:"v7 (Time-based)",value:"v7"}],description:"Choose the version of UUID to generate."},{id:"namespace",label:"Namespace",type:"string",value:"00000000-0000-0000-0000-000000000000",placeholder:"Enter a valid UUID namespace (e.g., a URL, OID, X.500 DN)",description:"A UUID namespace for name-based UUIDs (v3 and v5).",dependsOn:[{spiceId:"version",value:["v3","v5"]}]}],run:(e,t)=>{let r;switch(t.version){case"v1":r=f();break;case"v3":case"v5":if(n(t.namespace)){const n=e.cast("string").value;r="v3"===t.version?D(n,t.namespace):N(n,t.namespace)}else r="Error: Invalid namespace for v3/v5 UUID.";break;case"v6":r=function(e){e??={};let n=f({...e,_v6:!0},new Uint8Array(16));return n=u(n),o(n)}();break;case"v7":r=$();break;default:r=R()}return e.update(r)}};Baratie.ingredient.register(C)}();
